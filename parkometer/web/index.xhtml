<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Parkometr</title>
    <style type="text/css">

        body{
            text-align: center;
        }

        #form{
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }

        .form-panel{
            width: 40%;
            box-sizing: border-box;
        }

        .submit-button{
            width: 250px;
            height: 50px;
            box-sizing: border-box;
        }
        a{
            display: block;
            margin-top: 20px;
        }
    </style>
</h:head>
<h:body>
    <h1>Buy parking ticket</h1>
    <h:form id="form">

        <h:panelGrid class="form-panel">
            <h4>Select Parking Spot:</h4>
            <h:selectOneMenu value="#{parkometer.currentSpotId}" id="lots">
                <f:selectItems var="spot" value="#{parkometer.spots}" itemLabel="#{spot.spotName} | #{spot.zone.zoneName}" itemValue="#{spot.spotId}"/>
            </h:selectOneMenu>
        </h:panelGrid>

        <h:panelGrid class="form-panel">
            <h4>Chose ticket</h4>
            <h:selectOneMenu value="#{parkometer.currentTypeId}" id="time">
                <f:selectItems var="type" value="#{parkometer.ticketTypes}" itemLabel="#{parkometer.minutesToTimeString(type.time)} | #{type.price} zÅ‚" itemValue="#{type.typeId}"/>
            </h:selectOneMenu>
        </h:panelGrid>
        <h:panelGrid class="form-panel">
            <h:commandButton class="submit-button" value="Buy ticket" action="#{parkometer.buyTicket}"/>
        </h:panelGrid>
    </h:form>
    <a href="http://localhost:8080/carpark/index.xhtml">Go back to the car park >></a>
</h:body>
</html>
